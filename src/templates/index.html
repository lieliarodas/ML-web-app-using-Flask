<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IMDb Movie Recommender</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #1c1c1c; color: #fff; }
        .btn-imdb { background-color: #F5C518; color: #000; }
        .card { margin-bottom: 15px; }
        .matched-title { color: #F5C518; font-weight: bold; }
    </style>
</head>
<body>
<div class="container mt-5">
    <h1 class="mb-4">IMDb Movie Recommender</h1>
    
    <form method="post" class="mb-4">
        <div class="row">
            <div class="col-md-6">
                <input type="text" name="title" class="form-control" placeholder="Enter movie title" value="{{ query_title }}">
            </div>
            <div class="col-md-2">
                <input type="number" name="top_n" class="form-control" value="{{ top_n }}" min="1" max="20">
            </div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-imdb">Get Recommendations</button>
            </div>
        </div>
    </form>

    {% if recommendations %}
        {% if matched_title and matched_title != query_title %}
            <p>Showing results for <span class="matched-title">{{ matched_title }}</span> instead of "{{ query_title }}"</p>
        {% endif %}
        <h3>Top {{ top_n }} recommendations:</h3>
        <div class="row">
            {% for movie in recommendations %}
                <div class="col-md-4">
                    <div class="card bg-dark text-white">
                        <div class="card-body">
                            <h5 class="card-title">{{ movie['Series_Title'] }}</h5>
                            <p class="card-text">
                                <strong>Genre:</strong> {{ movie['Genre'] }}<br>
                                <strong>Director:</strong> {{ movie['Director'] }}<br>
                                <strong>IMDB Rating:</strong> {{ movie['IMDB_Rating'] }}
                            </p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
</body>
</html>